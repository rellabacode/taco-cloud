<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Taco Cloud</title>
    <link rel="stylesheet" th:href="@{/styles.css}"/>
</head>
<body>
    <h1>Register</h1>
    <img th:src="@{/images/TacoCloud.png}" alt="">

    <div th:insert="fragments/header.html"></div>

    <!--<span th:text="${formErrors.size()}"></span>-->

    <div th:hidden="${#bools.isTrue(formErrors.isEmpty())}">
        <span class="validationError">
            <table>
                <tr th:each="problem : ${formErrors}">
                    <td th:text="${problem.key}"></td>
                    <td th:text="${problem.value}"></td>
                </tr>
            </table>
            Please correct the problems below and resubmit.
        </span>
    </div>

    <form th:object="${form}" th:action="@{/register}" method="post">
        <label for="username">Username: </label>
        <input type="text" name="username" id="username" th:field="*{username}" th:value="${form.username}" />
        <small class="form-text text-danger" th:hidden="${#bools.isFalse(form.hasErrors('username'))}" th:text="${formErrors.get('username')}">invalid field</small>
        <small class="form-text text-danger" id="newUser" th:hidden="${not #bools.isTrue(form.hasErrors('newUser'))}" th:text="${formErrors.get('newUser')}">invalid field</small>
        <br/>

        <label for="password">Password: </label>
        <input type="password" name="password" id="password" th:field="*{password}" th:value="${form.password}" />
        <small class="form-text text-danger" th:hidden="${#bools.isFalse(form.hasErrors('password'))}" th:text="${formErrors.get('password')}">invalid field</small>
        <br/>

        <label for="confirm">Confirm password: </label>
        <input type="password" name="confirm" id="confirm" th:field="*{confirm}" th:value="${form.confirm}" />
        <small class="form-text text-danger" th:hidden="${#bools.isFalse(form.hasErrors('confirm'))}" th:text="${formErrors.get('confirm')}">invalid field</small>
        <small class="form-text text-danger" id="passwordmatch" th:hidden="${#bools.isFalse(form.hasErrors('passwordmatch'))}" th:text="${formErrors.get('passwordmatch')}">invalid field</small>
        <br/>

        <label for="fullname">Full Name: </label>
        <input type="text" name="fullname" id="fullname" th:field="*{fullname}" th:value="${form.fullname}" />
        <small class="form-text text-danger" th:hidden="${#bools.isFalse(form.hasErrors('fullname'))}" th:text="${formErrors.get('fullname')}">invalid field</small>
        <br/>

        <label for="street">Street: </label>
        <input type="text" name="street" id="street" th:field="*{street}" th:value="${form.street}" />
        <small class="form-text text-danger" th:hidden="${#bools.isFalse(form.hasErrors('street'))}" th:text="${formErrors.get('street')}">invalid field</small>
        <br/>

        <label for="city">City: </label>
        <input type="text" name="city" id="city" th:field="*{city}" th:value="${form.city}" />
        <small class="form-text text-danger" th:hidden="${#bools.isFalse(form.hasErrors('city'))}" th:text="${formErrors.get('city')}">invalid field</small>
        <br/>

        <label for="state">State: </label>
        <input type="text" name="state" id="state" th:field="*{state}" th:value="${form.state}" />
        <small class="form-text text-danger" th:hidden="${#bools.isFalse(form.hasErrors('state'))}" th:text="${formErrors.get('state')}">invalid field</small>
        <br/>

        <label for="zip">Zip: </label>
        <input type="text" name="zip" id="zip" th:field="*{zip}" th:value="${form.zip}" />
        <small class="form-text text-danger" th:hidden="${#bools.isFalse(form.hasErrors('zip'))}" th:text="${formErrors.get('zip')}">invalid field</small>
        <br/>

        <label for="mobile">Mobile Phone: </label>
        <input type="text" name="mobile" id="mobile" th:field="*{mobile}" th:value="${form.mobile}" />
        <small class="form-text text-danger" th:hidden="${#bools.isFalse(form.hasErrors('mobile'))}" th:text="${formErrors.get('mobile')}">invalid field</small>
        <br/>

        <input type="submit" value="Register"/>
    </form>
</body>
</html>